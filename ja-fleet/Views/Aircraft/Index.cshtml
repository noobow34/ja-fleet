@model AircraftModel
<h2>@ViewData["Title"]</h2>        
<div class="form-group">
@Html.CheckBoxFor(model => model.IncludeRetire)
@Html.LabelFor(model => model.IncludeRetire, new { @class = "control-label" })
</div>

<table id="@ViewData["TableId"]" class="display cell-border compact dt-body-center nowrap" style="width:100%">
    <thead>
        <tr>
            <th>航空会社</th>
            <th>機種</th>
            <th>機体記号</th>
            <th>製造番号</th>
            <th>登録年月日</th>
            <th>運用</th>
            <th>Wi-Fi</th>
            <th>備考（特別塗装など）</th>
        </tr>
    </thead>
</table>
@section ScriptsPartial{
<script tyep="text/javascript">
var table;
$(document).ready(function() {
    $.extend( $.fn.dataTable.defaults, {
        language: {
            url: "https://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Japanese.json"
        }
    });
    table = $('#' + '@ViewData["TableId"]').DataTable({
        ajax: {url:'@ViewData["api"]?includeRetire=' + getIncludeRetire(),
                dataSrc: ''},
        columns: [
            {data: 'airlineNameJpShort'},
            {data: 'typeName'},
            {data: 'registrationNumber'},
            {data: 'serialNumber'},
            {data: 'registerDate'},
            {data: 'operation'},
            {data: 'wifi'},
            {data: 'remarks'},
        ],
        paging:   false,
        ordering: false,
        fixedHeader: true,
        searching: false,
        scrollY: '700px',
        scrollX: true,
        scrollCollapse: true,
        columnDefs: [{
            targets: '_all',
            className: 'dt-center'
        }]

    });
});
$('#IncludeRetire').change(function() {
    table.ajax.url('@ViewData["api"]?includeRetire=' + getIncludeRetire()).load();
});
function getIncludeRetire(){
    return $('#IncludeRetire').prop('checked');
}
</script>
}